<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        *{margin: 0;padding: 0;}
        #email-sug-wrapper{visibility: hidden;width: 170px;}
        #email-input{height: 25px;border: black solid 1px;}
        li{border: black solid 1px;}
        li:hover{background-color: green;cursor: pointer;}
    </style>
</head>
<body>
    <div class="wrapper">
        <input id="email-input" type="text">
        <ul id="email-sug-wrapper" class="email-sug">
        </ul>
    </div>
</body>
<script>
    let list = document.getElementsByTagName('ul')[0]
    let input = document.getElementById('email-input')
    let postfixList = ['163.com', 'gmail.com', '126.com', 'qq.com', '263.net']
    input.onkeyup = function(){
        list.innerHTML = null
        list.style.visibility = 'inherit'
        get()
    }
    let ul = document.getElementsByTagName('ul')[0]
    ul.onclick = function(e){
        input.value = e.target.textContent
        list.style.visibility = 'hidden'
    }
    let get = function(){
        let fore = input.value.trim()
        if(fore == ''){
            list.innerHTML = null
        }else if(fore.indexOf('@')>0){
            let num = fore.indexOf('@')
            for(let i = 0;i<postfixList.length;i++){
            let all = fore.slice(0,num)+'@'+postfixList[i]
            list.innerHTML += '<li>'+all+'</li>'
            }
            
        }else{
            for(let i = 0;i<postfixList.length;i++){
            let all = fore+'@'+postfixList[i]
            console.log(all)
            list.innerHTML += '<li>'+all+'</li>'
            }
        }    
    }
</script>
</html>